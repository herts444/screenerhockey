/**
 * Team logo mapping for all supported leagues
 * NHL: local SVG files
 * AHL: HockeyTech CDN
 * LIIGA: SportsLogos.net
 * DEL: SportsLogos.net
 */

// NHL teams - use local SVG files (all 32 active teams + Utah)
export const NHL_LOGOS = {
  'ANA': '/logos/ANA.svg',
  'ARI': '/logos/ARI.svg',
  'BOS': '/logos/BOS.svg',
  'BUF': '/logos/BUF.svg',
  'CGY': '/logos/CGY.svg',
  'CAR': '/logos/CAR.svg',
  'CHI': '/logos/CHI.svg',
  'COL': '/logos/COL.svg',
  'CBJ': '/logos/CBJ.svg',
  'DAL': '/logos/DAL.svg',
  'DET': '/logos/DET.svg',
  'EDM': '/logos/EDM.svg',
  'FLA': '/logos/FLA.svg',
  'LAK': '/logos/LAK.svg',
  'MIN': '/logos/MIN.svg',
  'MTL': '/logos/MTL.svg',
  'NSH': '/logos/NSH.svg',
  'NJD': '/logos/NJD.svg',
  'NYI': '/logos/NYI.svg',
  'NYR': '/logos/NYR.svg',
  'OTT': '/logos/OTT.svg',
  'PHI': '/logos/PHI.svg',
  'PIT': '/logos/PIT.svg',
  'SJS': '/logos/SJS.svg',
  'SEA': '/logos/SEA.svg',
  'STL': '/logos/STL.svg',
  'TBL': '/logos/TBL.svg',
  'TOR': '/logos/TOR.svg',
  'UTA': '/logos/UTA.svg',
  'VAN': '/logos/VAN.svg',
  'VGK': '/logos/VGK.svg',
  'WSH': '/logos/WSH.svg',
  'WPG': '/logos/WPG.svg',
}

// AHL teams - HockeyTech CDN IDs (from official API season_id=90)
export const AHL_LOGO_IDS = {
  'ABB': '440',     // Abbotsford Canucks
  'BAK': '402',     // Bakersfield Condors
  'BEL': '413',     // Belleville Senators
  'BRI': '317',     // Bridgeport Islanders
  'CGY': '444',     // Calgary Wranglers
  'CGW': '444',     // Calgary Wranglers (alt)
  'CLT': '384',     // Charlotte Checkers
  'CHI': '330',     // Chicago Wolves
  'CLE': '373',     // Cleveland Monsters
  'CV': '445',      // Coachella Valley Firebirds
  'COA': '445',     // Coachella Valley Firebirds (alt)
  'COL': '419',     // Colorado Eagles
  'GR': '328',      // Grand Rapids Griffins
  'HFD': '307',     // Hartford Wolf Pack
  'HSK': '437',     // Henderson Silver Knights
  'HER': '319',     // Hershey Bears
  'IA': '389',      // Iowa Wild
  'LAV': '415',     // Laval Rocket
  'LV': '313',      // Lehigh Valley Phantoms
  'LHV': '313',     // Lehigh Valley Phantoms (alt)
  'MB': '321',      // Manitoba Moose
  'MIL': '327',     // Milwaukee Admirals
  'ONT': '403',     // Ontario Reign
  'PRO': '309',     // Providence Bruins
  'ROC': '323',     // Rochester Americans
  'RFD': '372',     // Rockford IceHogs
  'SD': '404',      // San Diego Gulls
  'SJ': '405',      // San Jose Barracuda
  'SPR': '411',     // Springfield Thunderbirds
  'SYR': '324',     // Syracuse Crunch
  'TEX': '380',     // Texas Stars
  'TOR': '335',     // Toronto Marlies
  'TUC': '412',     // Tucson Roadrunners
  'UTC': '390',     // Utica Comets
  'WBS': '316',     // Wilkes-Barre/Scranton Penguins
}

// Finnish Liiga teams - SportsLogos.net URLs
export const LIIGA_LOGOS = {
  'ASSAT': 'https://content.sportslogos.net/logos/96/2890/thumbs/gtjuaffewgf7f74q1ftwzwndg.gif',
  'HIFK': 'https://content.sportslogos.net/logos/96/2877/thumbs/x77x9eqr2jprdhcjyipg3fkdy.gif',
  'HPK': 'https://content.sportslogos.net/logos/96/2879/thumbs/3fz8u4vgfuutlhffmezjhexg6.gif',
  'ILVES': 'https://content.sportslogos.net/logos/96/2880/thumbs/xjf6za92fj051camimkrp8mvq.gif',
  'JYP': 'https://content.sportslogos.net/logos/96/2882/thumbs/f5lgrfvwmtatrgc0f4ag0egom.gif',
  'KALPA': 'https://content.sportslogos.net/logos/96/2883/thumbs/nf034v25yazjqe2k4cicd511t.gif',
  'KARPAT': 'https://content.sportslogos.net/logos/96/2884/thumbs/qshsabcgels1wv25fjwh4zg4w.gif',
  'KOOKOO': 'https://content.sportslogos.net/logos/96/6340/thumbs/634010732016.gif',
  'PELICANS': 'https://content.sportslogos.net/logos/96/2886/thumbs/288619442017.gif',
  'JUKURIT': 'https://content.sportslogos.net/logos/96/6341/thumbs/634112632017.gif',
  'LUKKO': 'https://content.sportslogos.net/logos/96/2885/thumbs/m6m57refpdgh62p2naeq4paib.gif',
  'SAIPA': 'https://content.sportslogos.net/logos/96/2887/thumbs/dqmzjcw6yfmv6l9cmxk3hvevg.gif',
  'TAPPARA': 'https://content.sportslogos.net/logos/96/2888/thumbs/hc50mhe3poqpf2gp2gllgfstf.gif',
  'TPS': 'https://content.sportslogos.net/logos/96/2889/thumbs/9odwhf6jc1k6x4foxr3cib144.gif',
  'SPORT': 'https://content.sportslogos.net/logos/96/5374/thumbs/537488912015.gif',
  'K-ESPOO': 'https://content.sportslogos.net/logos/96/2876/thumbs/o1qpekxpmx31cp874mljyp8u7.gif',
}

// German DEL teams - SportsLogos.net URLs
export const DEL_LOGOS = {
  'MAN': 'https://content.sportslogos.net/logos/95/2901/thumbs/xkakhegl1yuosq332fbcry5v9.gif',   // Adler Mannheim
  'AEV': 'https://content.sportslogos.net/logos/95/2892/thumbs/gjg2x0f2b7zmrgosuqxrn9gf0.gif',   // Augsburger Panther
  'DEG': 'https://content.sportslogos.net/logos/95/2894/thumbs/289467192012.gif',               // Düsseldorfer EG
  'RBM': 'https://content.sportslogos.net/logos/95/5210/thumbs/521019752013.gif',               // EHC Red Bull München
  'EBB': 'https://content.sportslogos.net/logos/95/2893/thumbs/cyf86g5ra9ghha6w31tsa4h1p.gif',   // Eisbären Berlin
  'ING': 'https://content.sportslogos.net/logos/95/2897/thumbs/hckfm3jrejs8sgywhcwx6jy26.gif',   // ERC Ingolstadt
  'BHV': 'https://content.sportslogos.net/logos/95/6614/thumbs/661467112017.gif',               // Fischtown Pinguins
  'WOB': 'https://content.sportslogos.net/logos/95/5840/thumbs/584022382016.gif',               // Grizzlys Wolfsburg
  'IEC': 'https://content.sportslogos.net/logos/95/2898/thumbs/8veqhzfgh0dxhh1w7gn79agvk.gif',   // Iserlohn Roosters
  'KEC': 'https://content.sportslogos.net/logos/95/2899/thumbs/5fnajf0hqker7kg9k7gwf33tg.gif',   // Kölner Haie
  'KEV': 'https://content.sportslogos.net/logos/95/2900/thumbs/hlkhg5p4aqalb929fze1n1d5l.gif',   // Krefeld Pinguine
  'FRA': 'https://content.sportslogos.net/logos/95/2895/thumbs/289585532023.gif',               // Löwen Frankfurt
  'SWW': 'https://content.sportslogos.net/logos/95/2902/thumbs/290230042013.gif',               // Schwenninger Wild Wings
  'STR': 'https://content.sportslogos.net/logos/95/2904/thumbs/i0jzur9t0oggme76nxjap7he7.gif',   // Straubing Tigers
  'NIT': 'https://content.sportslogos.net/logos/95/2903/thumbs/6x0pta7rvp3l8lyu8lbxir3yl.gif',   // Nürnberg Ice Tigers
}

/**
 * Get logo URL for a team
 * Checks all league mappings and returns appropriate URL
 * @param {string} abbrev - Team abbreviation
 * @param {string} fallbackUrl - Fallback URL if no mapping found (from API)
 * @param {string} league - Optional league hint for disambiguation
 * @returns {string|null} Logo URL or fallback
 */
export function getTeamLogo(abbrev, fallbackUrl = null, league = null) {
  if (!abbrev) return fallbackUrl

  const upperAbbrev = abbrev.toUpperCase()
  const upperLeague = league?.toUpperCase()

  // If league is specified, check that league first
  if (upperLeague === 'NHL' && NHL_LOGOS[upperAbbrev]) {
    return NHL_LOGOS[upperAbbrev]
  }
  if (upperLeague === 'AHL' && AHL_LOGO_IDS[upperAbbrev]) {
    return `https://assets.leaguestat.com/ahl/logos/${AHL_LOGO_IDS[upperAbbrev]}.png`
  }
  if (upperLeague === 'LIIGA' && LIIGA_LOGOS[upperAbbrev]) {
    return LIIGA_LOGOS[upperAbbrev]
  }
  if (upperLeague === 'DEL' && DEL_LOGOS[upperAbbrev]) {
    return DEL_LOGOS[upperAbbrev]
  }

  // Fallback: check all leagues (NHL first for priority)
  if (NHL_LOGOS[upperAbbrev]) {
    return NHL_LOGOS[upperAbbrev]
  }
  if (AHL_LOGO_IDS[upperAbbrev]) {
    return `https://assets.leaguestat.com/ahl/logos/${AHL_LOGO_IDS[upperAbbrev]}.png`
  }
  if (LIIGA_LOGOS[upperAbbrev]) {
    return LIIGA_LOGOS[upperAbbrev]
  }
  if (DEL_LOGOS[upperAbbrev]) {
    return DEL_LOGOS[upperAbbrev]
  }

  return fallbackUrl
}

export default { NHL_LOGOS, AHL_LOGO_IDS, LIIGA_LOGOS, DEL_LOGOS, getTeamLogo }
